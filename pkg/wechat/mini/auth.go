package mini

import (
	"context"
)

type ResCode2Session struct {
	CommonError

	OpenID     string `json:"openid"`      // 用户唯一标识
	SessionKey string `json:"session_key"` // 会话密钥
	UnionID    string `json:"unionid"`     // 用户在开放平台的唯一标识符，在满足UnionID下发条件的情况下会返回
}

type Auth interface {

	// Code2Session 登录凭证校验。通过 wx.login 接口获得临时登录凭证 code 后传到开发者服务器调用此接口完成登录流程。
	Code2Session(ctx context.Context, jsCode string) (result *ResCode2Session, err error)
}
